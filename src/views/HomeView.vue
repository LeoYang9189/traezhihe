<script setup lang="ts">
import { ref, onMounted } from 'vue'

// æ•°æ®çœ‹æ¿æ•°æ®
const statsData = ref([
  { label: 'ç´¯è®¡è¿è¾“è´§é‡', value: 0, target: 150, unit: 'ä¸‡å¨', icon: 'ğŸš›' },
  { label: 'è¦†ç›–å›½å®¶', value: 0, target: 28, unit: 'å›½', icon: 'ğŸŒ' },
  { label: 'å®¢æˆ·æ»¡æ„åº¦', value: 0, target: 99, unit: '%+', icon: 'â­' }
])

// æ ¸å¿ƒä¸šåŠ¡æ•°æ®
const businessServices = ref([
  {
    title: 'å›½é™…é“è·¯è¿è¾“',
    description: 'ä¸“ä¸šçš„ä¸­æ¬§ç­åˆ—è¿è¾“æœåŠ¡ï¼Œè¦†ç›–ä¸€å¸¦ä¸€è·¯æ²¿çº¿ä¸»è¦å›½å®¶',
    icon: 'ğŸš„',
    link: '/business#railway',
    features: ['æ•´ç®±è¿è¾“', 'æ‹¼ç®±æœåŠ¡', 'é—¨åˆ°é—¨é…é€']
  },
  {
    title: 'é›†è£…ç®±ç§Ÿèµä¹°å–',
    description: 'æä¾›å„ç±»é›†è£…ç®±ç§Ÿèµå’Œä¹°å–æœåŠ¡ï¼Œæ»¡è¶³ä¸åŒå®¢æˆ·éœ€æ±‚',
    icon: 'ğŸ“¦',
    link: '/business#container',
    features: ['æ ‡å‡†é›†è£…ç®±', 'ç‰¹ç§é›†è£…ç®±', 'çµæ´»ç§ŸæœŸ']
  },
  {
    title: 'è·¨å¢ƒå¡èˆª',
    description: 'é«˜æ•ˆçš„è·¨å¢ƒå¡è½¦è¿è¾“æœåŠ¡ï¼Œè¿æ¥äºšæ¬§å¤§é™†',
    icon: 'ğŸšš',
    link: '/business#truck',
    features: ['å¿«é€Ÿé€šå…³', 'å®æ—¶è·Ÿè¸ª', 'å®‰å…¨ä¿éšœ']
  },
  {
    title: 'å¤šå¼è”è¿',
    description: 'æ•´åˆé“è·¯ã€å…¬è·¯ã€æµ·è¿ç­‰å¤šç§è¿è¾“æ–¹å¼çš„ç»¼åˆç‰©æµè§£å†³æ–¹æ¡ˆ',
    icon: 'ğŸŒ',
    link: '/business#multimodal',
    features: ['ä¸€ç«™å¼æœåŠ¡', 'æˆæœ¬ä¼˜åŒ–', 'æ—¶æ•ˆä¿è¯']
  }
])

// ä¼˜åŠ¿å±•ç¤ºæ•°æ®
const advantages = ref([
  {
    title: 'NOVCCåˆè§„èµ„è´¨',
    description: 'æ‹¥æœ‰å®Œæ•´çš„å›½é™…é“è·¯è¿è¾“èµ„è´¨è®¤è¯',
    icon: 'ğŸ†'
  },
  {
    title: 'å…¨çƒç®±æºç½‘ç»œ',
    description: 'éå¸ƒå…¨çƒçš„é›†è£…ç®±èµ„æºç½‘ç»œ',
    icon: 'ğŸŒ'
  },
  {
    title: 'å…¨å®¢æˆ·ç±»å‹æœåŠ¡ç»éªŒ',
    description: 'æœåŠ¡å›½ä¼ã€åŒ…åˆ—åº„å®¶ã€ä¸­å°å®¢æˆ·ç­‰å„ç±»å‹å®¢æˆ·',
    icon: 'ğŸ‘¥'
  }
])

/**
 * æ•°å­—åŠ¨ç”»æ•ˆæœ
 */
const animateNumbers = (): void => {
  statsData.value.forEach((stat, index) => {
    const duration = 2000 // åŠ¨ç”»æŒç»­æ—¶é—´
    const steps = 60 // åŠ¨ç”»æ­¥æ•°
    const increment = stat.target / steps
    let current = 0
    
    const timer = setInterval(() => {
      current += increment
      if (current >= stat.target) {
        stat.value = stat.target
        clearInterval(timer)
      } else {
        stat.value = Math.floor(current)
      }
    }, duration / steps)
  })
}

/**
 * æ»šåŠ¨åˆ°æŒ‡å®šä¸šåŠ¡æ¨¡å—
 * @param link ä¸šåŠ¡é“¾æ¥
 */
const scrollToBusiness = (link: string): void => {
  // è¿™é‡Œå¯ä»¥å®ç°é¡µé¢å†…æ»šåŠ¨æˆ–è·¯ç”±è·³è½¬
  window.location.href = link
}

// ç»„ä»¶æŒ‚è½½åå¯åŠ¨æ•°å­—åŠ¨ç”»
onMounted(() => {
  // å»¶è¿Ÿå¯åŠ¨åŠ¨ç”»ï¼Œè®©ç”¨æˆ·çœ‹åˆ°ä»0å¼€å§‹çš„æ•ˆæœ
  setTimeout(() => {
    animateNumbers()
  }, 500)
})
</script>

<template>
  <div class="home-page">
    <!-- é¦–å±BanneråŒºåŸŸ -->
    <section class="hero-section relative overflow-hidden text-white">
      <!-- èƒŒæ™¯å›¾ç‰‡ -->
      <div class="absolute inset-0 bg-cover bg-center bg-no-repeat" style="background-image: url('/banner.png')"></div>
      
      <!-- é»‘è‰²è’™ç‰ˆ -->
      <div class="absolute inset-0 bg-black/30"></div>
      
      <!-- è£…é¥°æ€§å…‰æ•ˆ -->
      <div class="absolute inset-0">
        <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-gradient-radial from-blue-400/20 via-purple-500/10 to-transparent rounded-full filter blur-3xl animate-pulse"></div>
        <div class="absolute bottom-1/4 right-1/4 w-80 h-80 bg-gradient-radial from-indigo-400/15 via-blue-500/8 to-transparent rounded-full filter blur-3xl animate-pulse" style="animation-delay: 2s;"></div>
      </div>
      
      <div class="container-custom relative z-10">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center min-h-screen py-20">
          <!-- å·¦ä¾§å†…å®¹ -->
          <div class="text-center lg:text-left">
            <!-- å…¬å¸LOGOåŒºåŸŸ -->
            <div class="flex items-center justify-center lg:justify-start mb-8">
              <div class="w-16 h-16 bg-white rounded-xl flex items-center justify-center mr-4">
                <svg class="w-10 h-10 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                </svg>
              </div>
              <div>
                <h1 class="text-3xl lg:text-4xl font-bold">æ™ºå’Œæ˜è¿œ</h1>
                <p class="text-indigo-200 text-sm mt-1">ZHIHE MINGYUAN</p>
              </div>
            </div>
            
            <!-- å®£ä¼ æ ‡è¯­ -->
            <div class="mb-8">
              <h2 class="text-2xl lg:text-3xl font-bold mb-4 leading-tight">
                å¿—åŒé“åˆ | æ˜æ™ºè‡´è¿œ
              </h2>
              <h3 class="text-xl lg:text-2xl text-indigo-200 mb-6">
                æ™ºå’Œæ˜è¿œ | è½¨é“é“¾æ¥
              </h3>
              <p class="text-lg text-indigo-100 max-w-2xl mx-auto lg:mx-0">
                ä¸“ä¸šçš„å›½é™…é“è·¯è¿è¾“æœåŠ¡æä¾›å•†ï¼Œè‡´åŠ›äºä¸ºå…¨çƒå®¢æˆ·æä¾›é«˜æ•ˆã€å®‰å…¨ã€å¯é çš„ç‰©æµè§£å†³æ–¹æ¡ˆ
              </p>
            </div>
            
            <!-- CTAæŒ‰é’® -->
            <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start">
              <router-link to="/business" class="btn-primary bg-white text-indigo-600 hover:bg-gray-100">
                äº†è§£ä¸šåŠ¡
              </router-link>
              <router-link to="/contact" class="btn-primary bg-blue-600 text-white hover:bg-blue-700">
                è”ç³»æˆ‘ä»¬
              </router-link>
            </div>
          </div>
          
          <!-- å³ä¾§è£…é¥° -->
          <div class="flex flex-col items-center lg:items-end">
            <!-- è£…é¥°å…ƒç´ å·²ç§»é™¤ -->
          </div>
        </div>
      </div>
    </section>

    <!-- æ ¸å¿ƒä¸šåŠ¡å±•ç¤ºåŒº -->
    <section class="section-padding bg-white">
      <div class="container-custom">
        <!-- æ ‡é¢˜ -->
        <div class="text-center mb-16">
          <h2 class="text-3xl lg:text-4xl font-bold text-gray-800 mb-4">æ ¸å¿ƒä¸šåŠ¡</h2>
          <p class="text-xl text-gray-600 max-w-3xl mx-auto">
            æä¾›å…¨æ–¹ä½çš„å›½é™…ç‰©æµæœåŠ¡ï¼Œæ»¡è¶³ä¸åŒå®¢æˆ·çš„è¿è¾“éœ€æ±‚
          </p>
        </div>
        
        <!-- ä¸šåŠ¡å¡ç‰‡ -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
          <div
            v-for="(service, index) in businessServices"
            :key="index"
            @click="scrollToBusiness(service.link)"
            class="group bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 cursor-pointer transform hover:-translate-y-2 border border-gray-100"
          >
            <div class="p-8">
              <!-- å›¾æ ‡ -->
              <div class="text-4xl mb-4 group-hover:scale-110 transition-transform duration-300">
                {{ service.icon }}
              </div>
              
              <!-- æ ‡é¢˜å’Œæè¿° -->
              <h3 class="text-xl font-bold text-gray-800 mb-3 group-hover:text-indigo-600 transition-colors">
                {{ service.title }}
              </h3>
              <p class="text-gray-600 mb-4 leading-relaxed">
                {{ service.description }}
              </p>
              
              <!-- ç‰¹æ€§åˆ—è¡¨ -->
              <ul class="space-y-2">
                <li
                  v-for="feature in service.features"
                  :key="feature"
                  class="flex items-center text-sm text-gray-500"
                >
                  <svg class="w-4 h-4 text-indigo-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                  </svg>
                  {{ feature }}
                </li>
              </ul>
              
              <!-- ç®­å¤´å›¾æ ‡ -->
              <div class="mt-6 flex justify-end">
                <svg class="w-5 h-5 text-indigo-500 group-hover:translate-x-1 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                </svg>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ä¼˜åŠ¿é€Ÿè§ˆæ¨¡å— -->
    <section class="section-padding bg-gray-50">
      <div class="container-custom">
        <!-- æ ‡é¢˜ -->
        <div class="text-center mb-16">
          <h2 class="text-3xl lg:text-4xl font-bold text-gray-800 mb-4">æ ¸å¿ƒä¼˜åŠ¿</h2>
          <p class="text-xl text-gray-600 max-w-3xl mx-auto">
            å‡­å€Ÿä¸“ä¸šèµ„è´¨å’Œä¸°å¯Œç»éªŒï¼Œä¸ºå®¢æˆ·æä¾›ä¼˜è´¨æœåŠ¡
          </p>
        </div>
        
        <!-- ä¼˜åŠ¿å¡ç‰‡ -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <div
            v-for="(advantage, index) in advantages"
            :key="index"
            class="text-center group"
          >
            <div class="bg-white rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1">
              <!-- å›¾æ ‡ -->
              <div class="text-5xl mb-6 group-hover:scale-110 transition-transform duration-300">
                {{ advantage.icon }}
              </div>
              
              <!-- æ ‡é¢˜å’Œæè¿° -->
              <h3 class="text-xl font-bold text-gray-800 mb-4">
                {{ advantage.title }}
              </h3>
              <p class="text-gray-600 leading-relaxed">
                {{ advantage.description }}
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- æ•°æ®çœ‹æ¿ -->
    <section class="section-padding bg-indigo-600 text-white">
      <div class="container-custom">
        <!-- æ ‡é¢˜ -->
        <div class="text-center mb-16">
          <h2 class="text-3xl lg:text-4xl font-bold mb-4">æ•°æ®çœ‹æ¿</h2>
          <p class="text-xl text-indigo-200 max-w-3xl mx-auto">
            ç”¨æ•°æ®è¯´è¯ï¼Œè§è¯æˆ‘ä»¬çš„ä¸“ä¸šå®åŠ›
          </p>
        </div>
        
        <!-- æ•°æ®å±•ç¤º -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <div
            v-for="(stat, index) in statsData"
            :key="index"
            class="text-center group"
          >
            <div class="bg-white bg-opacity-10 rounded-2xl p-8 backdrop-blur-sm hover:bg-opacity-20 transition-all duration-300">
              <!-- å›¾æ ‡ -->
              <div class="text-4xl mb-4">
                {{ stat.icon }}
              </div>
              
              <!-- æ•°å€¼ -->
              <div class="text-4xl lg:text-5xl font-bold mb-2">
                {{ stat.value }}{{ stat.unit }}
              </div>
              
              <!-- æ ‡ç­¾ -->
              <p class="text-indigo-200 text-lg">
                {{ stat.label }}
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CTAåŒºåŸŸ -->
    <section class="section-padding bg-white">
      <div class="container-custom">
        <div class="bg-gradient-to-r from-indigo-600 to-blue-600 rounded-3xl p-12 text-center text-white">
          <h2 class="text-3xl lg:text-4xl font-bold mb-4">
            å‡†å¤‡å¼€å§‹æ‚¨çš„ç‰©æµä¹‹æ—…ï¼Ÿ
          </h2>
          <p class="text-xl text-indigo-100 mb-8 max-w-2xl mx-auto">
            è”ç³»æˆ‘ä»¬çš„ä¸“ä¸šå›¢é˜Ÿï¼Œè·å–å®šåˆ¶åŒ–çš„ç‰©æµè§£å†³æ–¹æ¡ˆ
          </p>
          <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <router-link to="/contact" class="btn-primary bg-white text-indigo-600 hover:bg-gray-100">
              ç«‹å³å’¨è¯¢
            </router-link>
            <router-link to="/company" class="btn-secondary border-white text-white hover:bg-white hover:text-indigo-600">
              äº†è§£æ›´å¤š
            </router-link>
          </div>
        </div>
      </div>
    </section>

    <!-- å›ºå®šå®šä½çš„äºŒç»´ç  -->
    <div class="fixed bottom-6 right-6 z-50">
      <div class="bg-white rounded-2xl p-4 shadow-2xl border border-gray-100 hover:shadow-3xl transition-all duration-300 transform hover:scale-105">
        <div class="text-center">
          <div class="w-24 h-24 bg-gray-200 rounded-lg flex items-center justify-center mb-3 mx-auto">
            <!-- è¿™é‡Œåº”è¯¥æ”¾ç½®çœŸå®çš„äºŒç»´ç å›¾ç‰‡ -->
            <svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"></path>
            </svg>
          </div>
          <p class="text-gray-700 font-medium text-sm">æ‰«ç å…³æ³¨</p>
          <p class="text-gray-500 text-xs">è·å–èµ„è®¯</p>
        </div>
      </div>
    </div>
  </div>
</template>

<style scoped>
/* è‡ªå®šä¹‰åŠ¨ç”» */
@keyframes slide-right {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100vw); }
}

@keyframes slide-left {
  0% { transform: translateX(100%); }
  100% { transform: translateX(-100vw); }
}

@keyframes slide-down {
  0% { transform: translateY(-100%); }
  100% { transform: translateY(100vh); }
}

@keyframes slide-up {
  0% { transform: translateY(100%); }
  100% { transform: translateY(-100vh); }
}

@keyframes spin-slow {
  from { transform: rotate(45deg); }
  to { transform: rotate(405deg); }
}

@keyframes spin-reverse {
  from { transform: rotate(12deg); }
  to { transform: rotate(-348deg); }
}

@keyframes float {
  0%, 100% { transform: translateY(0px) rotate(0deg); }
  50% { transform: translateY(-20px) rotate(5deg); }
}

@keyframes float-reverse {
  0%, 100% { transform: translateY(0px) rotate(0deg); }
  50% { transform: translateY(20px) rotate(-5deg); }
}

@keyframes twinkle {
  0%, 100% { opacity: 0.4; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.5); }
}

/* åŠ¨ç”»ç±» */
.animate-slide-right {
  animation: slide-right 8s linear infinite;
}

.animate-slide-left {
  animation: slide-left 8s linear infinite;
}

.animate-slide-down {
  animation: slide-down 10s linear infinite;
}

.animate-slide-up {
  animation: slide-up 10s linear infinite;
}

.animate-spin-slow {
  animation: spin-slow 20s linear infinite;
}

.animate-spin-reverse {
  animation: spin-reverse 15s linear infinite;
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-float-reverse {
  animation: float-reverse 8s ease-in-out infinite;
}

.animate-twinkle {
  animation: twinkle 3s ease-in-out infinite;
}

/* å¾„å‘æ¸å˜èƒŒæ™¯ */
.bg-gradient-radial {
  background: radial-gradient(circle, var(--tw-gradient-stops));
}

/* å“åº”å¼è°ƒæ•´ */
@media (max-width: 768px) {
  .hero-section .absolute.w-96 {
    width: 16rem;
    height: 16rem;
  }
  
  .hero-section .absolute.w-80 {
    width: 12rem;
    height: 12rem;
  }
  
  .hero-section .absolute.w-72 {
    width: 10rem;
    height: 10rem;
  }
}

/* åŠ¨ç”»å»¶è¿Ÿç±» */
.animation-delay-200 {
  animation-delay: 0.2s;
}

.animation-delay-400 {
  animation-delay: 0.4s;
}

.animation-delay-2000 {
  animation-delay: 2s;
}

.animation-delay-4000 {
  animation-delay: 4s;
}

/* è‹±é›„åŒºåŸŸæœ€å°é«˜åº¦ */
.hero-section {
  min-height: 100vh;
}

/* å¹³æ»‘æ»šåŠ¨ */
html {
  scroll-behavior: smooth;
}

/* å¡ç‰‡æ‚¬åœæ•ˆæœå¢å¼º */
.group:hover .group-hover\:scale-110 {
  transform: scale(1.1);
}

.group:hover .group-hover\:translate-x-1 {
  transform: translateX(0.25rem);
}

/* å“åº”å¼è°ƒæ•´ */
@media (max-width: 768px) {
  .hero-section {
    min-height: 80vh;
  }
}
</style>
